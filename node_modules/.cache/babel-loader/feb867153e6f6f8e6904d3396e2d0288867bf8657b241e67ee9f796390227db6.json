{"ast":null,"code":"'use strict';\n\nvar path = require('path');\nvar isNegated = require('is-negated-glob');\nvar isAbsolute = require('is-absolute');\nmodule.exports = function (glob, options) {\n  // default options\n  var opts = options || {};\n\n  // ensure cwd is absolute\n  var cwd = path.resolve(opts.cwd ? opts.cwd : process.cwd());\n  cwd = unixify(cwd);\n  var rootDir = opts.root;\n  // if `options.root` is defined, ensure it's absolute\n  if (rootDir) {\n    rootDir = unixify(rootDir);\n    if (process.platform === 'win32' || !isAbsolute(rootDir)) {\n      rootDir = unixify(path.resolve(rootDir));\n    }\n  }\n\n  // trim starting ./ from glob patterns\n  if (glob.slice(0, 2) === './') {\n    glob = glob.slice(2);\n  }\n\n  // when the glob pattern is only a . use an empty string\n  if (glob.length === 1 && glob === '.') {\n    glob = '';\n  }\n\n  // store last character before glob is modified\n  var suffix = glob.slice(-1);\n\n  // check to see if glob is negated (and not a leading negated-extglob)\n  var ing = isNegated(glob);\n  glob = ing.pattern;\n\n  // make glob absolute\n  if (rootDir && glob.charAt(0) === '/') {\n    glob = join(rootDir, glob);\n  } else if (!isAbsolute(glob) || glob.slice(0, 1) === '\\\\') {\n    glob = join(cwd, glob);\n  }\n\n  // if glob had a trailing `/`, re-add it now in case it was removed\n  if (suffix === '/' && glob.slice(-1) !== '/') {\n    glob += '/';\n  }\n\n  // re-add leading `!` if it was removed\n  return ing.negated ? '!' + glob : glob;\n};\nfunction unixify(filepath) {\n  return filepath.replace(/\\\\/g, '/');\n}\nfunction join(dir, glob) {\n  if (dir.charAt(dir.length - 1) === '/') {\n    dir = dir.slice(0, -1);\n  }\n  if (glob.charAt(0) === '/') {\n    glob = glob.slice(1);\n  }\n  if (!glob) return dir;\n  return dir + '/' + glob;\n}","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}