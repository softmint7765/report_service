{"ast":null,"code":"'use strict';\n\nvar fs = require('graceful-fs');\nvar removeBomStream = require('remove-bom-stream');\nvar lazystream = require('lazystream');\nvar createResolver = require('resolve-options');\nfunction streamFile(file, optResolver, onRead) {\n  if (typeof optResolver === 'function') {\n    onRead = optResolver;\n    optResolver = createResolver();\n  }\n  var filePath = file.path;\n  var removeBOM = optResolver.resolve('removeBOM', file);\n  file.contents = new lazystream.Readable(function () {\n    var contents = fs.createReadStream(filePath);\n    if (removeBOM) {\n      return contents.pipe(removeBomStream());\n    }\n    return contents;\n  });\n  onRead();\n}\nmodule.exports = streamFile;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}