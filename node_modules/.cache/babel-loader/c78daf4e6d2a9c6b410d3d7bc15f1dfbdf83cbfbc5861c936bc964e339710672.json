{"ast":null,"code":"'use strict';\n\nvar through = require('through2');\nvar fo = require('../file-operations');\nfunction resolveSymlinks(optResolver) {\n  // A stat property is exposed on file objects as a (wanted) side effect\n  function resolveFile(file, enc, callback) {\n    fo.reflectLinkStat(file.path, file, onReflect);\n    function onReflect(statErr) {\n      if (statErr) {\n        return callback(statErr);\n      }\n      if (!file.stat.isSymbolicLink()) {\n        return callback(null, file);\n      }\n      var resolveSymlinks = optResolver.resolve('resolveSymlinks', file);\n      if (!resolveSymlinks) {\n        return callback(null, file);\n      }\n\n      // Get target's stats\n      fo.reflectStat(file.path, file, onReflect);\n    }\n  }\n  return through.obj(resolveFile);\n}\nmodule.exports = resolveSymlinks;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}